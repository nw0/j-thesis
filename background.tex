\documentclass[thesis.tex]{subfile}

% Purpose of background chapter
% 1. Background to understand thesis (short)
% 2. "Related work", or intro++: research context, where the boundaries are

% Examiners will know about: PDEs, maybe handcoding

\chapter{Background}
The following sections are based on my memory and understanding of explanations given by my supervisors, Prof.~Kelly and Dr.~Luporini, and are primarily intended to (temporarily) lend structure to this chapter. Therefore, I may have erred in my interpretations. It is a priority to clarify these through other sources as well.

For the purposes of this draft, I have not written in any particular detail. The intention is to consult on which sections I should exposit or otherwise.

\section{Compilers}

\section{Optimisations on loop nests}

\subsection{Loop interchange}
Loop interchange is based on the observation that a change in execution order does not change the correctness of a program.
A situation in which loop interchange would be possible is a na\"ive matrix multiplication algorithm.

\textbf{[Include code snippet]}

The interchange does not result in fewer operations.
Instead, this forms a valid transformation on the loop nest.

\subsection{Strip mining}

\section{Loop blocking}
% Remark: don't talk about what loop blocking is, but say why we care about it
% TODO: assume reader knows what a loop nest is?
\emph{Loop blocking} or \emph{tiling} is a well-established technique to exploit data locality in \emph{loop nests}, in which the bulk of such computations reside. % TODO: cite
Blocking is a technique that may be applied regardless of the specific iteration space, as long as no data dependencies cross the boundaries between blocks.
It is also used to enable other optimisations, such as loop-invariant code motion, which may not be appropriate on code which has not been blocked, when the extents of the iteration are too large.

As we iterate through the matrix, nearby entries (in the correct dimension) will be loaded into cache.
By interchanging the loops, we utilise these cached values, speeding up the computation.
We quickly observe that caches are limited in size, and that we want to utilise the values before they become evicted.
This is the motive for interchanging the loops.

\textbf{[Include picture]}
\subsection{Skewing}
\subsection{Polyhedral model}

% Also Yask, Halide, Firedrake, Pochoir

\section{Devito}
What is Devito/Why would I use Devito?
What can Devito do?
(What am I doing?)
